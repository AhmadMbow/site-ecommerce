#!/bin/bash
# Test du bouton "Ajouter au panier" dans les produits similaires

echo "ðŸ§ª TEST - Bouton Ajouter au Panier (Produits Similaires)"
echo "============================================================"
echo ""
echo "âœ… CORRECTION APPLIQUÃ‰E:"
echo "   Fichier: templates/boutique/produit_detail.html"
echo "   Ligne: 836-838"
echo "   ProblÃ¨me: body dupliquÃ© dans fetch()"
echo "   Status: CORRIGÃ‰ âœ“"
echo ""
echo "ðŸ“‹ Ã‰TAPES DE TEST:"
echo ""
echo "1. RedÃ©marrer le serveur (si ce n'est pas dÃ©jÃ  fait):"
echo "   Ctrl + C (dans le terminal du serveur)"
echo "   python3 manage.py runserver"
echo ""
echo "2. AccÃ©der Ã  une page produit:"
echo "   http://127.0.0.1:8000/produit/1/"
echo "   (Remplacer '1' par l'ID d'un produit existant)"
echo ""
echo "3. Descendre jusqu'Ã  'Vous pourriez aussi aimer'"
echo ""
echo "4. Cliquer sur le bouton 'ðŸ›’ Ajouter' d'un produit similaire"
echo ""
echo "âœ… RÃ‰SULTAT ATTENDU:"
echo "   âœ“ Toast vert apparaÃ®t: 'Produit ajoutÃ© au panier !'"
echo "   âœ“ Compteur du panier s'incrÃ©mente dans la navbar"
echo "   âœ“ Bouton affiche 'âœ“ AjoutÃ© !' pendant 1.5s"
echo "   âœ“ Bouton revient Ã  'ðŸ›’ Ajouter' aprÃ¨s"
echo ""
echo "âŒ SI PROBLÃˆME:"
echo "   1. Ouvrir la console du navigateur (F12)"
echo "   2. Onglet 'Console' pour voir les erreurs JavaScript"
echo "   3. Onglet 'Network' pour voir la requÃªte POST"
echo "   4. VÃ©rifier que l'URL est correcte: /ajouter-au-panier/X/"
echo ""
echo "ðŸ“Š DEBUGGING:"
echo "   Dans la console du navigateur (F12 > Console):"
echo "   > document.querySelectorAll('.btn-quick-add')"
echo "   Devrait afficher les boutons trouvÃ©s"
echo ""
echo "ðŸŽ¯ NOTE:"
echo "   Les boutons sont dÃ©sactivÃ©s si le produit est en rupture de stock"
echo "   Le texte change alors en 'Indisponible'"
echo ""
